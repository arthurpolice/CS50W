# Delicious Plan
#### Video Demo:  https://www.youtube.com/watch?v=4g5S_gWU_ws
#### Description: A meal planner website in which you can paste online recipe links and get their ingredients converted to grams for ease of measurement and the calories broken down per ingredient. It also features a calorie calculator, as well as a calendar to display the user's meals.

## Delicious Plan is a website for people to plan their meals with ease. 

It uses spoonacular's API to extract information from recipe pages online, converting ingredients to metric measurements for the users to weigh them more precisely. It also calculates the calories in the recipe by adding up the calories of the ingredients, which is sourced from the API.

It also offers the users the option of calculating and saving their recommended daily calorie intake, for their convenience while planning meals.

Finally, the website offers a calendar page where users can see their meals on whichever day they choose.

#### Files

Within this code you'll find the following files.

##### app.py

This is the backend of the website. This web application runs on flask, so python is its base. A brief explanation will be provided for the contents of this file. For more in-depth information, please check the comments in the code.

This file runs:
The routing of pages.
The registration system, as well as the login system in the page.
The transferring of information from the database to the webapp's pages and vice-versa.
Checks for errors and handles error messages sent to the user.
API calls to spoonacular when information isn't found in the database.

##### helpers.py

This file is dedicated to helper functions used in app.py. Most of what it does is calling the API on secondary queries (converting measurements to grams, calculating calories when the ingredient is completely new to the database).
It also runs the function that ultimately calculates the user's recommended daily calories.
Lastly, it creates the json object used by the "get_day()" function in app.py.

##### calendar.js

This javascript isn't mine.
It creates the calendar in the planner page, populating the number of days for each month, adding a reset button, and buttons to go through the months.
I added to this javascript the function of populating the meal list in the respective html template with clickable elements, with toggable menus and buttons, etc.

Credits for the calendar base: https://colorlib.com/wp/template/calendar-02/.

##### recipes.js

This javascript merely adds the function of disabling the button in the recipes page, if the input field isn't empty when the button is clicked to call the API or the database.
It also adds a spinner to the page.

##### meal_planner.db

This is a database divided into 4 tables.

The first table is "users". It stores the usernames, hashed passwords, IDs and calories (from the calculator) of the users.

The second table is "recipes". It stores recipes' URLs, amounts of servings, titles and their ID in the API, if it exists. It autogenerated IDs for each recipe that are not linked to the API-assigned ID. 

Table "ingredients" stores the ingredients' names, their API ID, measurements (non-metric and metric), the weight of the ingredient in the particular recipe in question, which in turn is indicated by the recipe ID logged into this table. 

Finally, table "meals" simply links users to recipes, storing their respective IDs, along with the meal, day, month and year to which the recipes belong, and the amount of servings the user plans to eat.

##### templates

These are the flask HTML templates used by the webapp. They handle the information sent by app.py, displaying them with in-built logic.

Credits for the recipes_info page base: Creative Tim https://codepen.io/creativetim/pen/OePrJO.

Credits for the calorie calculator base: https://www.youtube.com/watch?v=tswVRgIY37I.


###### Changes for the future

This project will be revisited in the future and the following features will be added or improved upon:


1. Responsiveness for smaller screens - As of now, the calendar, calorie calculator and recipe_info pages don't work well on small screens. In the future a UI will be made specifically for those viewports.

2. API problems - The API doesn't deal well with pages that check for a "secure connection" before sending the user to the recipe proper. A workaround would be optimal.

3. A page for the users to make their own recipes.

4. Barcode support (unsure about this one).

5. Overall UI improvements so the website looks more elaborate.